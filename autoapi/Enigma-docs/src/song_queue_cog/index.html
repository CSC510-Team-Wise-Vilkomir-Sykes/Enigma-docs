<!DOCTYPE html>

<html lang="en" data-content_root="../../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Enigma-docs.src.song_queue_cog &#8212; Enigma  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css?v=4ae1632d" />
    <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Enigma-docs.src.utils" href="../utils/index.html" />
    <link rel="prev" title="Enigma-docs.src.song" href="../song/index.html" />
   
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-Enigma-docs.src.song_queue_cog">
<span id="enigma-docs-src-song-queue-cog"></span><h1>Enigma-docs.src.song_queue_cog<a class="headerlink" href="#module-Enigma-docs.src.song_queue_cog" title="Link to this heading">¶</a></h1>
<p>song_commands.py</p>
<dl>
<dt>What:</dt><dd><p>The <cite>song_commands</cite> module is responsible for handling all Discord bot commands related to song management, including queuing, playback control, and song recommendations. It encapsulates functionalities such as joining voice channels, managing the song queue, controlling playback (play, pause, unpause, skip), and adjusting volume levels. This module leverages Discord’s API to provide an interactive and seamless music experience within a Discord server.</p>
</dd>
<dt>Why:</dt><dd><p>Music is a fundamental aspect of many Discord communities, enhancing engagement and creating a lively atmosphere. The <cite>song_commands</cite> module empowers users to interact with the bot to manage their listening experience effortlessly. By providing a comprehensive set of commands for song queuing, playback control, and recommendations, the module ensures that users can customize their music preferences, discover new tracks, and maintain an organized queue. This not only enriches the user experience but also fosters a sense of community through shared musical tastes.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p><strong>Joining and Leaving Voice Channels</strong>: Users can command the bot to join or leave their current voice channel, ensuring that the music playback is aligned with the user’s location within the server.</p></li>
<li><p><strong>Managing the Song Queue</strong>: Through commands like <cite>/queue</cite>, <cite>/insert</cite>, <cite>/remove</cite>, and <cite>/shuffle</cite>, users can add, insert, remove, and shuffle songs in the queue. These functionalities allow for dynamic and personalized playlist management.</p></li>
<li><p><strong>Playback Control</strong>: Commands such as <cite>/pause</cite>, <cite>/unpause</cite>, <cite>/next</cite>, and <cite>/replay</cite> provide users with control over the music playback, enabling them to manage the listening flow according to their preferences.</p></li>
<li><p><strong>Volume Adjustment</strong>: The <cite>/volume</cite> command allows users to adjust the playback volume, ensuring that the audio levels meet their comfort and situational needs.</p></li>
<li><p><strong>Recommendations and Polling</strong>: Integrating with the <cite>RecommendCog</cite>, commands like <cite>/poll</cite> facilitate song recommendations based on user preferences, enhancing the discovery of new music tailored to the community’s tastes.</p></li>
</ul>
</dd>
<dt>Example Use Cases:</dt><dd><ol class="arabic simple">
<li><p><strong>Collaborative Playlist Creation</strong>: Multiple users can add and manage songs in the queue, creating a collaborative playlist that reflects the group’s collective music preferences.</p></li>
<li><p><strong>Interactive Music Sessions</strong>: During events or gaming sessions, users can control the music playback, ensuring that the audio complements the activity seamlessly.</p></li>
<li><p><strong>Personalized Music Discovery</strong>: By utilizing the polling and recommendation features, users can discover new songs that align with their existing tastes, enhancing their listening experience.</p></li>
</ol>
</dd>
<dt>Classes:</dt><dd><dl class="simple">
<dt>SongQueueCog(commands.Cog):</dt><dd><p>A Discord bot cog that manages song-related commands, including joining/leaving voice channels, managing the song queue, controlling playback, and adjusting volume levels.</p>
</dd>
</dl>
</dd>
<dt>Functions:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>join(ctx):</dt><dd><p>Joins the voice channel that the user is currently in. If the bot is already in a different voice channel, it moves to the user’s channel.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>leave(ctx):</dt><dd><p>Forces the bot to leave its current voice channel.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>pause(ctx):</dt><dd><p>Pauses the currently playing song.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>unpause(ctx):</dt><dd><p>Unpauses the currently paused song.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>queue(ctx, <a href="#id1"><span class="problematic" id="id2">*</span></a>, query):</dt><dd><p>Adds a song to the end of the queue based on the provided query.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>insert(ctx, <a href="#id3"><span class="problematic" id="id4">*</span></a>, params):</dt><dd><p>Inserts a song into a specified position in the queue.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>insertfront(ctx, <a href="#id5"><span class="problematic" id="id6">*</span></a>, query):</dt><dd><p>Inserts a song at the front of the queue.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>next(ctx):</dt><dd><p>Immediately skips to the next song in the queue.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>view(ctx):</dt><dd><p>Displays the current queue and the song that is currently playing.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>shuffle(ctx):</dt><dd><p>Shuffles all the songs in the queue.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>jumpto(ctx, <a href="#id7"><span class="problematic" id="id8">*</span></a>, idx):</dt><dd><p>Jumps to a specific track number in the queue.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>move(ctx, <a href="#id9"><span class="problematic" id="id10">*</span></a>, params):</dt><dd><p>Moves a song from one position to another within the queue.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>remove(ctx, <a href="#id11"><span class="problematic" id="id12">*</span></a>, idx):</dt><dd><p>Removes a song from the queue based on its track number.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>movefront(ctx, <a href="#id13"><span class="problematic" id="id14">*</span></a>, src_idx):</dt><dd><p>Moves a song to the front of the queue.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>moveback(ctx, <a href="#id15"><span class="problematic" id="id16">*</span></a>, src_idx):</dt><dd><p>Moves a song to the back of the queue.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>replay(ctx):</dt><dd><p>Replays the currently playing song once after it ends.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>replaynow(ctx):</dt><dd><p>Immediately restarts the currently playing song.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>volume(ctx, volume: int = -1):</dt><dd><p>Adjusts the playback volume to the specified level (0-100).</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>Dependencies:</dt><dd><ul class="simple">
<li><p>discord.py: For interacting with the Discord API, handling commands, and managing voice connections.</p></li>
<li><p>asyncio: For managing asynchronous operations, especially related to audio playback and reaction handling.</p></li>
<li><p>yt_dlp: For extracting audio information from YouTube links.</p></li>
<li><p>pandas: For managing song data within DataFrames.</p></li>
<li><p>dotenv: For loading environment variables.</p></li>
<li><p>BotState: A custom module to maintain the current state of the bot, including the song queue, playback status, and volume levels.</p></li>
<li><p>utils: Contains helper functions such as <cite>searchSong</cite> and <cite>random_25</cite> for song searching and random selection.</p></li>
<li><p>Song: The <cite>Song</cite> class from the <cite>song</cite> module, representing individual music tracks.</p></li>
</ul>
</dd>
<dt>Usage:</dt><dd><p>To integrate the <cite>SongQueueCog</cite> into your Discord bot, add it to your bot instance as shown below. This will enable all song-related commands, allowing users to manage and control music playback within the Discord server.</p>
<dl>
<dt>Example:</dt><dd><p><a href="#id17"><span class="problematic" id="id18">``</span></a><a href="#id19"><span class="problematic" id="id20">`</span></a>python
from discord.ext import commands
from song_commands import SongQueueCog</p>
<p>bot = commands.Bot(command_prefix=”/”)
bot.add_cog(SongQueueCog(bot))
bot.run(‘YOUR_BOT_TOKEN’)
<a href="#id21"><span class="problematic" id="id22">``</span></a><a href="#id23"><span class="problematic" id="id24">`</span></a></p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Ensure that all dependencies are properly installed and configured in your project environment.</p></li>
<li><p>The bot requires appropriate permissions to join and interact within voice channels.</p></li>
<li><p>The <cite>BotState</cite> module should be properly implemented to manage the state across different commands and sessions.</p></li>
<li><p>The <cite>yt_dlp</cite> library is used for extracting audio streams from YouTube; ensure compliance with YouTube’s terms of service when using this functionality.</p></li>
<li><p>Volume levels are normalized between 0.0 and 1.0 internally, corresponding to 0-100% for user interactions.</p></li>
<li><p>Error handling is implemented to manage invalid inputs and unexpected states, enhancing the robustness of the bot.</p></li>
</ul>
<section id="attributes">
<h2>Attributes<a class="headerlink" href="#attributes" title="Link to this heading">¶</a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#Enigma-docs.src.song_queue_cog.ytdl_format_options" title="Enigma-docs.src.song_queue_cog.ytdl_format_options"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ytdl_format_options</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Enigma-docs.src.song_queue_cog.ffmpeg_options" title="Enigma-docs.src.song_queue_cog.ffmpeg_options"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ffmpeg_options</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Enigma-docs.src.song_queue_cog.ytdl" title="Enigma-docs.src.song_queue_cog.ytdl"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ytdl</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</section>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Link to this heading">¶</a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#Enigma-docs.src.song_queue_cog.SongQueueCog" title="Enigma-docs.src.song_queue_cog.SongQueueCog"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SongQueueCog</span></code></a></p></td>
<td><p>What:</p></td>
</tr>
</tbody>
</table>
</section>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.ytdl_format_options">
<span class="sig-prename descclassname"><span class="pre">Enigma-docs.src.song_queue_cog.</span></span><span class="sig-name descname"><span class="pre">ytdl_format_options</span></span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#ytdl_format_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.ytdl_format_options" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.ffmpeg_options">
<span class="sig-prename descclassname"><span class="pre">Enigma-docs.src.song_queue_cog.</span></span><span class="sig-name descname"><span class="pre">ffmpeg_options</span></span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#ffmpeg_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.ffmpeg_options" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.ytdl">
<span class="sig-prename descclassname"><span class="pre">Enigma-docs.src.song_queue_cog.</span></span><span class="sig-name descname"><span class="pre">ytdl</span></span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#ytdl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.ytdl" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Enigma-docs.src.song_queue_cog.</span></span><span class="sig-name descname"><span class="pre">SongQueueCog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bot</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-obj docutils literal notranslate"><span class="pre">discord.ext.commands.Cog</span></code></p>
<dl>
<dt>What:</dt><dd><p>The <cite>SongQueueCog</cite> is a Discord bot cog that manages all song-related commands, including joining/leaving voice channels, managing the song queue, controlling playback, and adjusting volume levels. It provides a comprehensive suite of commands that allow users to interact with the music queue, ensuring a seamless and interactive listening experience within a Discord server.</p>
</dd>
<dt>Why:</dt><dd><p>Managing music playback in a Discord server enhances user engagement and fosters a vibrant community atmosphere. The <cite>SongQueueCog</cite> empowers users to control their listening experience by providing intuitive commands for managing the song queue, controlling playback, and customizing volume levels. This flexibility ensures that the music experience is tailored to the preferences of the community, promoting active participation and enjoyment.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p><strong>Voice Channel Management</strong>: Users can command the bot to join or leave their current voice channel, ensuring that music playback aligns with their location within the server.</p></li>
<li><p><strong>Song Queue Management</strong>: Commands like <cite>/queue</cite>, <cite>/insert</cite>, <cite>/remove</cite>, <cite>/shuffle</cite>, and <cite>/move</cite> allow users to add, insert, remove, shuffle, and rearrange songs in the queue. These functionalities provide dynamic control over the playlist, enabling collaborative and personalized music selection.</p></li>
<li><p><strong>Playback Control</strong>: Commands such as <cite>/pause</cite>, <cite>/unpause</cite>, <cite>/next</cite>, <cite>/replay</cite>, and <cite>/replaynow</cite> offer users the ability to control music playback. These controls ensure that users can manage the flow of music according to their preferences and situational needs.</p></li>
<li><p><strong>Volume Adjustment</strong>: The <cite>/volume</cite> command enables users to adjust the playback volume, ensuring that the audio levels are comfortable and appropriate for the environment.</p></li>
<li><p><strong>Asynchronous Operations</strong>: Leveraging <cite>asyncio</cite>, the cog handles asynchronous tasks such as waiting for user reactions and managing playback queues without blocking the main event loop, ensuring smooth and responsive interactions.</p></li>
</ul>
</dd>
<dt>Example Use Cases:</dt><dd><ol class="arabic simple">
<li><p><strong>Hosting a Music Session</strong>: During a gaming session or virtual event, users can queue songs, control playback, and adjust volume levels to create an engaging and interactive musical backdrop.</p></li>
<li><p><strong>Collaborative Playlist Building</strong>: Multiple users can add and manage songs in the queue, creating a collaborative playlist that reflects the collective musical tastes of the group.</p></li>
<li><p><strong>Personalized Listening Experience</strong>: Users can manage their own listening preferences by inserting favorite songs, replaying tracks, and adjusting volume levels to suit their personal comfort.</p></li>
</ol>
</dd>
<dt>Classes:</dt><dd><dl class="simple">
<dt>SongQueueCog(commands.Cog):</dt><dd><p>Manages all song-related commands and functionalities, including voice channel management, song queue operations, playback controls, and volume adjustments.</p>
</dd>
</dl>
</dd>
<dt>Functions:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>__init__(self, bot):</dt><dd><p>Initializes the <cite>SongQueueCog</cite> with the Discord bot instance.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>join(ctx):</dt><dd><p>Joins the voice channel that the user is currently in. If the bot is already in a different voice channel, it moves to the user’s channel.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>leave(ctx):</dt><dd><p>Forces the bot to leave its current voice channel.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>pause(ctx):</dt><dd><p>Pauses the currently playing song.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>unpause(ctx):</dt><dd><p>Unpauses the currently paused song.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>queue(ctx, <a href="#id25"><span class="problematic" id="id26">*</span></a>, query):</dt><dd><p>Adds a song to the end of the queue based on the provided query.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>insert(ctx, <a href="#id27"><span class="problematic" id="id28">*</span></a>, params):</dt><dd><p>Inserts a song into a specified position in the queue.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>insertfront(ctx, <a href="#id29"><span class="problematic" id="id30">*</span></a>, query):</dt><dd><p>Inserts a song at the front of the queue.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>insert_song(ctx, idx, song):</dt><dd><p>Helper function to insert songs into the queue at a specified index.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>delete_track(ctx, idx):</dt><dd><p>Helper function to delete a song from the queue based on its track number.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ensure_song(ctx, query):</dt><dd><p>Helper function to validate and convert a query into a <cite>Song</cite> object.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ensure_track_number(ctx, idx):</dt><dd><p>Helper function to validate and convert a track number from user input.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>ensure_insert_number(ctx, idx):</dt><dd><p>Helper function to validate and convert an insertion number from user input.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>play_song(ctx, song):</dt><dd><p>Helper function to handle the playback of a specified song.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>on_play_query_end(ctx, error):</dt><dd><p>Callback function that runs once a song finishes playing or is terminated, triggering the next song in the queue.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>next(ctx):</dt><dd><p>Immediately skips to the next song in the queue.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>play_next_song(ctx):</dt><dd><p>Helper function to play the next song in the queue.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>view(ctx):</dt><dd><p>Displays the current song queue and the song that is currently playing.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>shuffle(ctx):</dt><dd><p>Shuffles all the songs in the current queue.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>jumpto(ctx, <a href="#id31"><span class="problematic" id="id32">*</span></a>, idx):</dt><dd><p>Jumps to a specific track number in the queue, discarding all songs before it.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>move(ctx, <a href="#id33"><span class="problematic" id="id34">*</span></a>, params):</dt><dd><p>Moves a song from one position to another within the queue.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>remove(ctx, <a href="#id35"><span class="problematic" id="id36">*</span></a>, idx):</dt><dd><p>Removes a song from the queue based on its track number.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>movefront(ctx, <a href="#id37"><span class="problematic" id="id38">*</span></a>, src_idx):</dt><dd><p>Moves a song to the front of the queue.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>moveback(ctx, <a href="#id39"><span class="problematic" id="id40">*</span></a>, src_idx):</dt><dd><p>Moves a song to the back of the queue.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>replay(ctx):</dt><dd><p>Replays the currently playing song once after it ends.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>replaynow(ctx):</dt><dd><p>Immediately restarts the currently playing song.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>volume(ctx, volume: int = -1):</dt><dd><p>Adjusts the playback volume to the specified level (0-100).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>setup(client):</dt><dd><p>Registers the <cite>SongQueueCog</cite> with the Discord client.</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>Dependencies:</dt><dd><ul class="simple">
<li><p>discord.py: Facilitates interaction with the Discord API, enabling command handling, voice channel management, and audio playback.</p></li>
<li><p>asyncio: Manages asynchronous operations, ensuring that the bot remains responsive during tasks such as waiting for user reactions and handling playback queues.</p></li>
<li><p>yt_dlp: Extracts audio information from YouTube links, enabling the bot to stream audio tracks.</p></li>
<li><p>pandas: Manages song data within DataFrames for efficient data manipulation and retrieval.</p></li>
<li><p>dotenv: Loads environment variables from a <cite>.env</cite> file, ensuring secure and configurable deployment.</p></li>
<li><p>BotState: A custom module that maintains the current state of the bot, including the song queue, playback status, and volume levels.</p></li>
<li><p>utils: Provides helper functions such as <cite>searchSong</cite> and <cite>random_25</cite> for song searching and random selection.</p></li>
<li><p>Song: The <cite>Song</cite> class from the <cite>song</cite> module, representing individual music tracks.</p></li>
</ul>
</dd>
<dt>Usage:</dt><dd><p>To utilize the <cite>SongQueueCog</cite> in your Discord bot, integrate it by adding it to your bot instance as demonstrated below. This will enable all song-related commands, allowing users to manage and control music playback within the Discord server.</p>
<dl>
<dt>Example:</dt><dd><p><a href="#id41"><span class="problematic" id="id42">``</span></a><a href="#id43"><span class="problematic" id="id44">`</span></a>python
from discord.ext import commands
from song_commands import SongQueueCog</p>
<p>bot = commands.Bot(command_prefix=”/”)
bot.add_cog(SongQueueCog(bot))
bot.run(‘YOUR_BOT_TOKEN’)
<a href="#id45"><span class="problematic" id="id46">``</span></a><a href="#id47"><span class="problematic" id="id48">`</span></a></p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Ensure that all dependencies are properly installed and configured in your project environment.</p></li>
<li><p>The bot requires appropriate permissions to join and interact within voice channels.</p></li>
<li><p>The <cite>BotState</cite> module should be properly implemented to manage the state across different commands and sessions.</p></li>
<li><p>The <cite>yt_dlp</cite> library is used for extracting audio streams from YouTube; ensure compliance with YouTube’s terms of service when using this functionality.</p></li>
<li><p>Volume levels are normalized between 0.0 and 1.0 internally, corresponding to 0-100% for user interactions.</p></li>
<li><p>Error handling is implemented to manage invalid inputs and unexpected states, enhancing the robustness of the bot.</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.bot">
<span class="sig-name descname"><span class="pre">bot</span></span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.bot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.bot" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.join">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.join"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.join" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/join</cite> command instructs the bot to join the voice channel that the user is currently in. If the bot is already connected to a different voice channel, it will move to the user’s channel.</p>
</dd>
<dt>Why:</dt><dd><p>Ensuring that the bot is in the same voice channel as the user allows for synchronized music playback, enhancing the collective listening experience within the server.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Checks if the user is in a voice channel.</p></li>
<li><p>Determines if the bot is already connected to a voice channel.</p></li>
<li><p>Joins the user’s voice channel or moves from the current channel to the user’s channel as necessary.</p></li>
<li><p>Sends confirmation messages to inform users of the bot’s actions.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/join</cite> while in the “Music Room” voice channel. The bot joins the “Music Room” channel and confirms the action by sending a message like “Joined voice channel: Music Room”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation, containing information such as the channel, author, and guild.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.leave">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">leave</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.leave"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.leave" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/leave</cite> command instructs the bot to disconnect from its current voice channel, effectively stopping any ongoing music playback.</p>
</dd>
<dt>Why:</dt><dd><p>Allowing users to control the bot’s presence in voice channels provides flexibility and ensures that the bot does not occupy channels unnecessarily, especially in dynamic server environments.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Checks if the bot is currently connected to a voice channel.</p></li>
<li><p>Disconnects from the voice channel if connected.</p></li>
<li><p>Sends confirmation messages to inform users of the bot’s actions.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/leave</cite>. If the bot is in the “Music Room” channel, it disconnects and sends a message like “Left voice channel: Music Room”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation, containing information such as the channel, author, and guild.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.pause">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pause</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.pause"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.pause" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/pause</cite> command pauses the currently playing song in the voice channel.</p>
</dd>
<dt>Why:</dt><dd><p>Providing pause functionality allows users to temporarily halt music playback without disrupting the current queue, enabling them to attend to other tasks or discussions without losing their place in the playlist.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Checks if the bot is connected to a voice channel and if music is currently playing.</p></li>
<li><p>Pauses the playback if it is not already paused.</p></li>
<li><p>Sends confirmation messages to inform users of the action taken.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/pause</cite>. If a song is playing, the bot pauses the music and sends a message like “Pausing music”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation, containing information such as the channel, author, and guild.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.unpause">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unpause</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.unpause"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.unpause" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/unpause</cite> command resumes playback of a paused song in the voice channel.</p>
</dd>
<dt>Why:</dt><dd><p>Allowing users to resume paused music provides control over the listening experience, enabling them to continue enjoying the playlist without needing to restart songs or queues.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Checks if the bot is connected to a voice channel and if music is currently paused.</p></li>
<li><p>Unpauses the playback if it is paused.</p></li>
<li><p>Sends confirmation messages to inform users of the action taken.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/unpause</cite>. If the music is paused, the bot resumes playback and sends a message like “Unpausing music”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation, containing information such as the channel, author, and guild.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.queue">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">queue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.queue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.queue" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/queue</cite> command adds a song to the end of the current song queue based on the provided query.</p>
</dd>
<dt>Why:</dt><dd><p>Allowing users to add songs to the current song queue based on the provided query.</p>
</dd>
<dt>Why:</dt><dd><p>Allowing users to add songs to thequeue ensures that the playlist reflects the community’s preferences and accommodates dynamic song selection.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Validates and converts the user’s query into a <cite>Song</cite> object.</p></li>
<li><p>Inserts the song at the end of the queue.</p></li>
<li><p>Sends confirmation messages to inform users that the song has been queued.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/queue Never Gonna Give You Up</cite>. The bot adds “Never Gonna Give You Up” to the end of the queue and sends a message like “Queued song: Never Gonna Give You Up by Rick Astley”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation, containing information such as the channel, author, and guild.</p>
</dd>
</dl>
<p>query (str): The search query or name of the song to be added to the queue.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.insert">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.insert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.insert" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/insert</cite> command inserts a song into a specified position within the current song queue based on the provided parameters.</p>
</dd>
<dt>Why:</dt><dd><p>Providing the ability to insert songs at arbitrary positions allows users to prioritize certain tracks or rearrange the playlist to better suit their preferences.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Parses the input parameters to extract the target index and song query.</p></li>
<li><p>Validates and converts the song query into a <cite>Song</cite> object.</p></li>
<li><p>Inserts the song at the specified position in the queue.</p></li>
<li><p>Sends confirmation messages to inform users that the song has been inserted.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/insert 2 Shape of You</cite>. The bot inserts “Shape of You” at position 2 in the queue and sends a message like “Inserted song Shape of You by Ed Sheeran as track number 2”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation, containing information such as the channel, author, and guild.</p>
</dd>
</dl>
<p>params (str): A string containing the target index and song query, separated by a space (e.g., “2 Shape of You”).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.insertfront">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">insertfront</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.insertfront"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.insertfront" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/insertfront</cite> command inserts a song at the very front of the current song queue.</p>
</dd>
<dt>Why:</dt><dd><p>Allowing users to prioritize certain songs by inserting them at the front ensures that important or favorite tracks are played immediately.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Validates and converts the user’s query into a <cite>Song</cite> object.</p></li>
<li><p>Inserts the song at the front of the queue.</p></li>
<li><p>Sends confirmation messages to inform users that the song has been inserted at the front.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/insertfront Bohemian Rhapsody</cite>. The bot inserts “Bohemian Rhapsody” at the front of the queue and sends a message like “Inserted song Bohemian Rhapsody by Queen as track number 1”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation, containing information such as the channel, author, and guild.</p>
</dd>
</dl>
<p>query (str): The search query or name of the song to be inserted at the front of the queue.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.insert_song">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">insert_song</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">song</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.insert_song"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.insert_song" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Async<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<dl class="simple">
<dt>What:</dt><dd><p>The <cite>insert_song</cite> helper function inserts a <cite>Song</cite> object into the queue at the specified index.</p>
</dd>
<dt>Why:</dt><dd><p>Encapsulating the insertion logic within a helper function promotes code reusability and ensures consistent handling of song insertions across different commands.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Validates the insertion index.</p></li>
<li><p>Inserts the song into the queue at the validated index.</p></li>
<li><p>Returns a boolean indicating the success of the operation.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Inserting a song at position 3: <cite>insert_song(ctx, 3, Song(“Imagine”, “John Lennon”, “Rock”))</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p></li>
<li><p><strong>idx</strong> (<em>int</em><em> or </em><em>str</em>) – The target index at which to insert the song.</p></li>
<li><p><strong>song</strong> (<a class="reference internal" href="../song/index.html#Enigma-docs.src.song.Song" title="Enigma-docs.src.song.Song"><em>Song</em></a>) – The <cite>Song</cite> object to be inserted into the queue.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>True</cite> if the insertion was successful, <cite>False</cite> otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.delete_track">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delete_track</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.delete_track"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.delete_track" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Async<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<dl class="simple">
<dt>What:</dt><dd><p>The <cite>delete_track</cite> helper function removes a song from the queue based on its track number.</p>
</dd>
<dt>Why:</dt><dd><p>Providing a method to delete tracks ensures that users can manage the queue effectively, removing unwanted or unwanted songs to maintain a preferred playlist order.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Validates the track number.</p></li>
<li><p>Removes the song from the queue at the validated index.</p></li>
<li><p>Returns the removed <cite>Song</cite> object if successful.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Removing the song at track number 4: <cite>delete_track(ctx, 4)</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p>
</dd>
</dl>
<p>idx (int or str): The track number of the song to be removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The removed <cite>Song</cite> object if the deletion was successful, <cite>None</cite> otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../song/index.html#Enigma-docs.src.song.Song" title="Enigma-docs.src.song.Song">Song</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.ensure_song">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ensure_song</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.ensure_song"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.ensure_song" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Async<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<dl class="simple">
<dt>What:</dt><dd><p>The <cite>ensure_song</cite> helper function validates and converts a user’s query into a <cite>Song</cite> object.</p>
</dd>
<dt>Why:</dt><dd><p>Ensuring that the query is valid and properly formatted is essential for maintaining the integrity of the song queue and preventing errors during playback.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Strips any leading or trailing whitespace from the query.</p></li>
<li><p>Checks if the query is non-empty.</p></li>
<li><p>Creates a <cite>Song</cite> object if the query is valid.</p></li>
<li><p>Sends an error message if the query is invalid.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Valid query: “Shape of You” → <cite>Song(“Shape of You”)</cite>
Invalid query: “” → Sends “Please enter a song”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p>
</dd>
</dl>
<p>query (str): The user’s search query or song name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The created <cite>Song</cite> object if the query is valid, <cite>None</cite> otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../song/index.html#Enigma-docs.src.song.Song" title="Enigma-docs.src.song.Song">Song</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.ensure_track_number">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ensure_track_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.ensure_track_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.ensure_track_number" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Async<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<dl class="simple">
<dt>What:</dt><dd><p>The <cite>ensure_track_number</cite> helper function validates and converts a track number from user input into a zero-based index.</p>
</dd>
<dt>Why:</dt><dd><p>Validating track numbers ensures that operations like removing or moving songs in the queue are performed on valid entries, preventing out-of-range errors and maintaining queue integrity.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Attempts to convert the input to an integer.</p></li>
<li><p>Adjusts for zero-based indexing.</p></li>
<li><p>Checks if the index is within the valid range of the queue.</p></li>
<li><p>Sends an error message if the index is invalid.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Valid input: “3” → Returns <cite>2</cite> (zero-based index)
Invalid input: “0” or “100” (if queue has fewer songs) → Sends ‘“0” is not a valid track number’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p>
</dd>
</dl>
<p>idx (int or str): The track number input by the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The zero-based index if valid, <cite>None</cite> otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.ensure_insert_number">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ensure_insert_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.ensure_insert_number"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.ensure_insert_number" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Async<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<dl class="simple">
<dt>What:</dt><dd><p>The <cite>ensure_insert_number</cite> helper function validates and converts an insertion number from user input into a zero-based index suitable for inserting into the queue.</p>
</dd>
<dt>Why:</dt><dd><p>Validating insertion numbers ensures that songs are inserted at valid positions within the queue, preventing out-of-range errors and maintaining queue integrity.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Attempts to convert the input to an integer.</p></li>
<li><p>Adjusts for zero-based indexing.</p></li>
<li><p>Checks if the index is within the valid range for insertion.</p></li>
<li><p>Sends an error message if the index is invalid.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Valid input: “1” → Returns <cite>0</cite> (zero-based index)
Valid input: “5” (if queue has 4 songs) → Returns <cite>4</cite>
Invalid input: “-1” or “abc” → Sends ‘”-1” is not a valid track number’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p>
</dd>
</dl>
<p>idx (int or str): The insertion number input by the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The zero-based index if valid, <cite>None</cite> otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.play_song">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">play_song</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">song</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.play_song"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.play_song" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>play_song</cite> helper function handles the playback of a specified song within the voice channel.</p>
</dd>
<dt>Why:</dt><dd><p>Encapsulating the playback logic within a helper function ensures consistent handling of audio streams, error management, and state updates, providing a smooth listening experience for users.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Searches for the song on YouTube using <cite>yt_dlp</cite>.</p></li>
<li><p>Extracts the audio URL and prepares the audio source with FFmpeg options.</p></li>
<li><p>Manages the playback state, including stopping any currently playing song if necessary.</p></li>
<li><p>Initiates audio playback in the voice channel.</p></li>
<li><p>Sends confirmation messages to inform users of the currently playing song.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Playing “Shape of You”: <cite>play_song(ctx, Song(“Shape of You”))</cite> → Plays the song and sends “Now playing: <strong>Shape of You by Ed Sheeran</strong>”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p>
</dd>
</dl>
<p>song (Song): The <cite>Song</cite> object representing the song to be played.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.on_play_query_end">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">on_play_query_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.on_play_query_end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.on_play_query_end" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>on_play_query_end</cite> callback function is invoked once a song finishes playing or is terminated. It handles the transition to the next song in the queue or repeats the current song if looping is enabled.</p>
</dd>
<dt>Why:</dt><dd><p>Managing the end of song playback ensures that the music queue progresses smoothly, automatically playing the next song or repeating as per the user’s preferences without requiring manual intervention.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Logs the completion of the current song.</p></li>
<li><p>Stops the current playback state.</p></li>
<li><p>Checks if looping is enabled; if so, replays the current song.</p></li>
<li><p>Otherwise, plays the next song in the queue if available.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>After “Shape of You” finishes playing, <cite>on_play_query_end</cite> is called to either replay the song or proceed to the next track in the queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p></li>
<li><p><strong>error</strong> (<em>Exception</em>) – Any error that occurred during playback.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.next">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">next</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.next"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.next" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/next</cite> command immediately skips the currently playing song and moves to the next song in the queue.</p>
</dd>
<dt>Why:</dt><dd><p>Providing a quick way to skip songs enhances user control over the listening experience, allowing them to bypass unwanted tracks without disrupting the entire queue.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Checks if a song is currently playing.</p></li>
<li><p>Stops the current playback.</p></li>
<li><p>Initiates playback of the next song in the queue.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/next</cite> while “Shape of You” is playing. The bot stops “Shape of You” and starts playing the next song in the queue, sending a message like “Now playing: <strong>Blinding Lights by The Weeknd</strong>”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.play_next_song">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">play_next_song</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.play_next_song"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.play_next_song" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>play_next_song</cite> helper function plays the next song in the queue if one exists.</p>
</dd>
<dt>Why:</dt><dd><p>Automating the transition to the next song ensures a continuous and uninterrupted music playback experience for users.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Checks if there are songs in the queue.</p></li>
<li><p>Removes the next song from the queue.</p></li>
<li><p>Initiates playback of the next song using <cite>play_song</cite>.</p></li>
<li><p>Sends confirmation messages to inform users of the action taken.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>If the queue contains “Bohemian Rhapsody” and “Imagine”, calling <cite>play_next_song</cite> will remove “Bohemian Rhapsody” from the queue and start playing it, sending “Now playing: <strong>Bohemian Rhapsody by Queen</strong>”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.view">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.view"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.view" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/view</cite> command displays the current song queue and indicates which song is currently playing.</p>
</dd>
<dt>Why:</dt><dd><p>Providing visibility into the song queue and playback status allows users to stay informed about the current playlist and upcoming tracks, enhancing transparency and coordination within the server.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Checks if a song is currently playing.</p></li>
<li><p>Constructs a message detailing the currently playing song and the list of queued songs.</p></li>
<li><p>Sends the constructed message to the channel.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/view</cite>. The bot responds with:
<a href="#id49"><span class="problematic" id="id50">``</span></a>`
Now playing: Shape of You by Ed Sheeran</p>
<dl>
<dt>Current Queue:</dt><dd><ol class="arabic simple">
<li><p>Bohemian Rhapsody by Queen</p></li>
</ol>
<p>2. Imagine by John Lennon
<a href="#id51"><span class="problematic" id="id52">``</span></a><a href="#id53"><span class="problematic" id="id54">`</span></a></p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.shuffle">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.shuffle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.shuffle" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/shuffle</cite> command randomizes the order of songs in the current queue.</p>
</dd>
<dt>Why:</dt><dd><p>Shuffling the queue provides variety and ensures that the listening experience remains fresh and unpredictable, catering to diverse user preferences.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Checks if there are songs in the queue.</p></li>
<li><p>Randomizes the order of the songs using Python’s <cite>random.shuffle</cite>.</p></li>
<li><p>Sends a confirmation message indicating that the queue has been shuffled.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/shuffle</cite>. If the queue has multiple songs, the bot shuffles their order and sends a message like “Shuffled! Do /view to see the current queue”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.jumpto">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">jumpto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.jumpto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.jumpto" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/jumpto</cite> command allows users to jump directly to a specific track number in the queue, discarding all songs that precede it.</p>
</dd>
<dt>Why:</dt><dd><p>Providing the ability to jump to a specific track offers users greater control over the playlist, enabling them to prioritize or revisit particular songs without manually skipping through the queue.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Validates the provided track number.</p></li>
<li><p>Adjusts the queue by removing all songs before the specified track.</p></li>
<li><p>Initiates playback of the specified track.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/jumpto 3</cite>. The bot removes the first two songs from the queue and starts playing the third song, sending a message like “Jumped to track number 3 in the queue”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p>
</dd>
</dl>
<p>idx (int or str): The track number to jump to.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.move">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">move</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.move"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.move" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/move</cite> command moves a song from one track number to another within the current queue.</p>
</dd>
<dt>Why:</dt><dd><p>Allowing users to rearrange songs in the queue enhances the ability to prioritize certain tracks, ensuring that favorite or important songs are played in the desired order.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Parses the input parameters to extract the source and destination indices.</p></li>
<li><p>Validates both indices.</p></li>
<li><p>Removes the song from the source position and inserts it at the destination position.</p></li>
<li><p>Sends confirmation messages to inform users of the action taken.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/move 2 5</cite>. The bot moves the song at track number 2 to track number 5, sending a message like “Moved Imagine by John Lennon from track 2 to track 5”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p>
</dd>
</dl>
<p>params (str): A string containing the source and destination track numbers, separated by a space (e.g., “2 5”).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.remove">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.remove" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/remove</cite> command deletes a song from the queue based on its track number.</p>
</dd>
<dt>Why:</dt><dd><p>Providing the ability to remove unwanted or duplicate songs ensures that the queue remains organized and reflective of the users’ current preferences.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Validates the provided track number.</p></li>
<li><p>Removes the song from the queue at the specified index.</p></li>
<li><p>Sends confirmation messages to inform users of the removal.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/remove 3</cite>. The bot removes the third song from the queue and sends a message like “Removed Imagine by John Lennon (track number 3)”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p>
</dd>
</dl>
<p>idx (int or str): The track number of the song to be removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.movefront">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">movefront</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_idx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.movefront"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.movefront" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/movefront</cite> command moves a specified song to the front of the queue.</p>
</dd>
<dt>Why:</dt><dd><p>Allowing users to prioritize certain songs by moving them to the front ensures that important tracks are played immediately, enhancing the listening experience.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Validates the provided source track number.</p></li>
<li><p>Moves the song to the front of the queue using the <cite>/move</cite> command internally.</p></li>
<li><p>Sends confirmation messages to inform users of the action taken.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/movefront 4</cite>. The bot moves the fourth song to the front of the queue and sends a message like “Moved Imagine by John Lennon from track 4 to track 1”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p>
</dd>
</dl>
<p>src_idx (int or str): The track number of the song to be moved to the front.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.moveback">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">moveback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_idx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.moveback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.moveback" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/moveback</cite> command moves a specified song to the back of the queue.</p>
</dd>
<dt>Why:</dt><dd><p>Allowing users to deprioritize certain songs by moving them to the back ensures that less preferred tracks are played later, maintaining an enjoyable and relevant playlist.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Validates the provided source track number.</p></li>
<li><p>Moves the song to the back of the queue using the <cite>/move</cite> command internally.</p></li>
<li><p>Sends confirmation messages to inform users of the action taken.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/moveback 2</cite>. The bot moves the second song to the back of the queue and sends a message like “Moved Bohemian Rhapsody by Queen from track 2 to track 5”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p>
</dd>
</dl>
<p>src_idx (int or str): The track number of the song to be moved to the back.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.replay">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">replay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.replay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.replay" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/replay</cite> command schedules the currently playing song to be replayed once after it finishes.</p>
</dd>
<dt>Why:</dt><dd><p>Replaying a song allows users to listen to their favorite tracks again without manually re-queueing them, enhancing the flexibility and enjoyment of the listening experience.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Checks if a song is currently playing.</p></li>
<li><p>If looping is not already enabled, inserts the currently playing song at the front of the queue.</p></li>
<li><p>Sends confirmation messages to inform users of the action taken.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/replay</cite>. If “Imagine” is currently playing, the bot schedules it to be replayed by adding it to the front of the queue and sends a message like “Got it, I will add this song to the front of the queue again”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.replaynow">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">replaynow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.replaynow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.replaynow" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/replaynow</cite> command immediately restarts the currently playing song.</p>
</dd>
<dt>Why:</dt><dd><p>Allowing users to instantly replay a song ensures that they can enjoy their favorite tracks again without waiting for the queue to cycle through.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Checks if a song is currently playing.</p></li>
<li><p>Inserts the currently playing song at the front of the queue.</p></li>
<li><p>Invokes the <cite>/next</cite> command to start playing the song immediately.</p></li>
<li><p>Sends confirmation messages to inform users of the action taken.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/replaynow</cite> while “Shape of You” is playing. The bot restarts “Shape of You” and sends a message like “Got it, I will immediately restart this song”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.volume">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">volume</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.volume"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.volume" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>What:</dt><dd><p>The <cite>/volume</cite> command prompts the user to provide a volume level between 0 and 100 to adjust the playback volume.</p>
</dd>
<dt>Why:</dt><dd><p>Allowing users to adjust the volume ensures that the audio levels are comfortable and suitable for their listening environment, enhancing the overall experience.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Sends a message requesting the user to provide a valid volume level.</p></li>
<li><p>Waits for the user’s response and adjusts the volume accordingly.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>A user types <cite>/volume</cite> without specifying a level. The bot responds with “Please provide a volume between 0 and 100.”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> (<em>commands.Context</em>) – The context of the command invocation.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.setup">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.setup" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Async<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<dl class="simple">
<dt>What:</dt><dd><p>The <cite>setup</cite> static method registers the <cite>SongQueueCog</cite> with the provided Discord client.</p>
</dd>
<dt>Why:</dt><dd><p>Registering the cog ensures that all defined commands and functionalities are recognized and handled by the bot, making them available for user interactions.</p>
</dd>
<dt>How:</dt><dd><ul class="simple">
<li><p>Adds an instance of <cite>SongQueueCog</cite> to the Discord client.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p><code class="docutils literal notranslate"><span class="pre">`python</span>
<span class="pre">bot</span> <span class="pre">=</span> <span class="pre">commands.Bot(command_prefix=&quot;/&quot;)</span>
<span class="pre">await</span> <span class="pre">SongQueueCog.setup(bot)</span>
<span class="pre">`</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> (<em>discord.Client</em>) – The Discord client instance to which the cog will be added.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Enigma-docs.src.song_queue_cog.SongQueueCog.preload_songs">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">preload_songs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/Enigma-docs/src/song_queue_cog.html#SongQueueCog.preload_songs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.src.song_queue_cog.SongQueueCog.preload_songs" title="Link to this definition">¶</a></dt>
<dd><p>Preloads the audio data for the next 5 songs in the queue into memory.</p>
</dd></dl>

</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../index.html">Enigma</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../conf/index.html">conf</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">Enigma-docs</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../../index.html">API Reference</a><ul>
  <li><a href="../../index.html">Enigma-docs</a><ul>
  <li><a href="../index.html">Enigma-docs.src</a><ul>
      <li>Previous: <a href="../song/index.html" title="previous chapter">Enigma-docs.src.song</a></li>
      <li>Next: <a href="../utils/index.html" title="next chapter">Enigma-docs.src.utils</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, CSC510 Group 6 Fall 2024.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../../../../_sources/autoapi/Enigma-docs/src/song_queue_cog/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>