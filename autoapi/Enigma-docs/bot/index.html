<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Enigma-docs.bot &#8212; Enigma  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../../../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=4ae1632d" />
    <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Enigma-docs.conf" href="../conf/index.html" />
    <link rel="prev" title="Enigma-docs" href="../index.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-Enigma-docs.bot">
<span id="enigma-docs-bot"></span><h1>Enigma-docs.bot<a class="headerlink" href="#module-Enigma-docs.bot" title="Link to this heading">¶</a></h1>
<p>bot.py</p>
<p>This module initializes and runs a Discord bot with multiple cogs for handling song recommendations, queueing,
and voice state updates. It configures the bot’s command prefix, loads essential cogs, and defines event handlers
for bot readiness, incoming messages, and voice state changes.</p>
<p><strong>Environment Variables</strong>:
- <cite>DISCORD_TOKEN</cite>: The bot token used to authenticate with Discord, loaded from a <cite>.env</cite> file.</p>
<p><strong>Modules</strong>:
1. <cite>BotState</cite>: Manages the state of the bot, including logging and audio playback control.
2. <cite>RecommendCog</cite>: A cog that provides song recommendation and polling commands.
3. <cite>SongQueueCog</cite>: A cog that handles song queueing operations.
4. <cite>searchSong</cite>: Utility function for song search.</p>
<p><strong>Why</strong>: Provides a central entry point to initialize and manage the bot’s functionality, enabling music-related
features and responsive user interactions on Discord.</p>
<p><strong>How</strong>:
- Define event handlers like <cite>on_ready</cite>, <cite>on_message</cite>, and <cite>on_voice_state_update</cite>.
- Load cogs for modular functionality.
- Authenticate using a Discord bot token.</p>
<dl>
<dt>Modules:</dt><dd><ul class="simple">
<li><p>BotState: Manages the state of the bot, including logging and audio playback</p></li>
</ul>
<p>control.
- RecommendCog: A cog that provides song recommendation and polling commands.
- SongQueueCog: A cog that handles song queueing operations.
- searchSong: Utility function for song search.</p>
</dd>
</dl>
<section id="attributes">
<h2>Attributes<a class="headerlink" href="#attributes" title="Link to this heading">¶</a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#Enigma-docs.bot.TOKEN" title="Enigma-docs.bot.TOKEN"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TOKEN</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Enigma-docs.bot.intents" title="Enigma-docs.bot.intents"><code class="xref py py-obj docutils literal notranslate"><span class="pre">intents</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Enigma-docs.bot.client" title="Enigma-docs.bot.client"><code class="xref py py-obj docutils literal notranslate"><span class="pre">client</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Link to this heading">¶</a></h2>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#Enigma-docs.bot.schedule_task" title="Enigma-docs.bot.schedule_task"><code class="xref py py-obj docutils literal notranslate"><span class="pre">schedule_task</span></code></a>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Enigma-docs.bot.on_ready" title="Enigma-docs.bot.on_ready"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on_ready</span></code></a>()</p></td>
<td><p>Event triggered when the bot is ready and connected to Discord.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Enigma-docs.bot.on_message" title="Enigma-docs.bot.on_message"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on_message</span></code></a>(message)</p></td>
<td><p>Processes incoming messages on Discord.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Enigma-docs.bot.on_voice_state_update" title="Enigma-docs.bot.on_voice_state_update"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on_voice_state_update</span></code></a>(member, before, after)</p></td>
<td><p>Handles changes in voice states to manage audio playback for the bot.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="Enigma-docs.bot.TOKEN">
<span class="sig-prename descclassname"><span class="pre">Enigma-docs.bot.</span></span><span class="sig-name descname"><span class="pre">TOKEN</span></span><a class="reference internal" href="../../../_modules/Enigma-docs/bot.html#TOKEN"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.bot.TOKEN" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="Enigma-docs.bot.intents">
<span class="sig-prename descclassname"><span class="pre">Enigma-docs.bot.</span></span><span class="sig-name descname"><span class="pre">intents</span></span><a class="reference internal" href="../../../_modules/Enigma-docs/bot.html#intents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.bot.intents" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="Enigma-docs.bot.client">
<span class="sig-prename descclassname"><span class="pre">Enigma-docs.bot.</span></span><span class="sig-name descname"><span class="pre">client</span></span><a class="reference internal" href="../../../_modules/Enigma-docs/bot.html#client"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.bot.client" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Enigma-docs.bot.schedule_task">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Enigma-docs.bot.</span></span><span class="sig-name descname"><span class="pre">schedule_task</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/Enigma-docs/bot.html#schedule_task"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.bot.schedule_task" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Enigma-docs.bot.on_ready">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Enigma-docs.bot.</span></span><span class="sig-name descname"><span class="pre">on_ready</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/Enigma-docs/bot.html#on_ready"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.bot.on_ready" title="Link to this definition">¶</a></dt>
<dd><p>Event triggered when the bot is ready and connected to Discord.</p>
<p><strong>What</strong>:
- Initializes the bot by loading essential cogs.
- Sets up logging for state tracking and error reporting.</p>
<blockquote>
<div><p><strong>Why</strong>: Ensures the bot is fully prepared for interaction, with all necessary functionality initialized.</p>
</div></blockquote>
<p><strong>How</strong>:
- Load <cite>SongQueueCog</cite> and <cite>RecommendCog</cite> to handle music queueing and recommendations.
- Log the bot’s readiness for debugging or tracking</p>
<blockquote>
<div><p>purposes.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Enigma-docs.bot.on_message">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Enigma-docs.bot.</span></span><span class="sig-name descname"><span class="pre">on_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/Enigma-docs/bot.html#on_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.bot.on_message" title="Link to this definition">¶</a></dt>
<dd><p>Processes incoming messages on Discord.</p>
<p><strong>What</strong>:
- Ignores messages sent by the bot itself.
- Processes commands in channels whose names start with “general”.</p>
<p><strong>Why</strong>:
- Focuses bot functionality on specific channels, preventing interference from non-command messages.</p>
<p><strong>How</strong>:
- Check if the message originates from the bot.
- Ensure the channel name starts with “general” before processing commands.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>message</strong> (<em>discord.Message</em>) – The incoming message from Discord.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Enigma-docs.bot.on_voice_state_update">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Enigma-docs.bot.</span></span><span class="sig-name descname"><span class="pre">on_voice_state_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">member</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">before</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/Enigma-docs/bot.html#on_voice_state_update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Enigma-docs.bot.on_voice_state_update" title="Link to this definition">¶</a></dt>
<dd><p>Handles changes in voice states to manage audio playback for the bot.</p>
<p><strong>What</strong>:
- Stops playback if the bot disconnects from a voice channel.
- Pauses playback if the bot switches voice channels.</p>
<p><strong>Why</strong>:
- Ensures smooth audio transitions and avoids playback issues when the bot’s voice state changes.</p>
<p><strong>How</strong>:
- Detect whether the bot is leaving or switching channels.
- Use <cite>BotState</cite> to stop or pause playback accordingly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>member</strong> (<em>discord.Member</em>) – The member whose voice state changed.</p></li>
<li><p><strong>before</strong> (<em>discord.VoiceState</em>) – The member’s previous voice state.</p></li>
<li><p><strong>after</strong> (<em>discord.VoiceState</em>) – The member’s current voice state.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">Enigma</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../conf/index.html">conf</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Enigma-docs</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">API Reference</a><ul>
  <li><a href="../index.html">Enigma-docs</a><ul>
      <li>Previous: <a href="../index.html" title="previous chapter">Enigma-docs</a></li>
      <li>Next: <a href="../conf/index.html" title="next chapter">Enigma-docs.conf</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, CSC510 Group 6 Fall 2024.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../../../_sources/autoapi/Enigma-docs/bot/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>